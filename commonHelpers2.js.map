{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const STORAGE_KEY = 'feedback-form-state';\nconst form = document.querySelector('.feedback-form');\n\nlet formData = JSON.parse(localStorage.getItem(STORAGE_KEY)) || {};\n\nconst { email, message } = form.elements;\n\nform.addEventListener('submit', handleSubmit);\nform.addEventListener('input', onFormInput);\n\ngetFormInput();\n\nfunction onFormInput(event) {\n  formData[event.target.name] = event.target.value.trim();\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(formData));\n}\n\nfunction getFormInput() {\n  formData = JSON.parse(localStorage.getItem(STORAGE_KEY)) || {};\n  let savedEmail = formData.email;\n  let savedMessage = formData.message;\n  if (savedEmail) {\n    form.elements.email.value = savedEmail;\n  }\n  if (savedMessage) {\n    form.elements.message.value = savedMessage;\n  }\n}\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n  const emailEl = event.target.elements.email.value.trim();\n  const messageEl = event.target.elements.message.value.trim();\n\n  if (emailEl === '' || messageEl === '') {\n    return alert(\n      'It is necessary to fill in all fields of the form, information cannot be sent'\n    );\n  }\n  console.log({ email: emailEl, message: messageEl });\n  console.log('send');\n  \n  /*localStorage.removeItem(STORAGE_KEY);*/\n  formData = {};\n  form.reset();\n}\n"],"names":["STORAGE_KEY","form","formData","handleSubmit","onFormInput","getFormInput","event","savedEmail","savedMessage","emailEl","messageEl"],"mappings":"oDAAA,MAAMA,EAAc,sBACdC,EAAO,SAAS,cAAc,gBAAgB,EAEpD,IAAIC,EAAW,KAAK,MAAM,aAAa,QAAQF,CAAW,CAAC,GAAK,GAErCC,EAAK,SAEhCA,EAAK,iBAAiB,SAAUE,CAAY,EAC5CF,EAAK,iBAAiB,QAASG,CAAW,EAE1CC,IAEA,SAASD,EAAYE,EAAO,CAC1BJ,EAASI,EAAM,OAAO,IAAI,EAAIA,EAAM,OAAO,MAAM,OACjD,aAAa,QAAQN,EAAa,KAAK,UAAUE,CAAQ,CAAC,CAC5D,CAEA,SAASG,GAAe,CACtBH,EAAW,KAAK,MAAM,aAAa,QAAQF,CAAW,CAAC,GAAK,GAC5D,IAAIO,EAAaL,EAAS,MACtBM,EAAeN,EAAS,QACxBK,IACFN,EAAK,SAAS,MAAM,MAAQM,GAE1BC,IACFP,EAAK,SAAS,QAAQ,MAAQO,EAElC,CAEA,SAASL,EAAaG,EAAO,CAC3BA,EAAM,eAAc,EACpB,MAAMG,EAAUH,EAAM,OAAO,SAAS,MAAM,MAAM,OAC5CI,EAAYJ,EAAM,OAAO,SAAS,QAAQ,MAAM,OAEtD,GAAIG,IAAY,IAAMC,IAAc,GAClC,OAAO,MACL,+EACN,EAEE,QAAQ,IAAI,CAAE,MAAOD,EAAS,QAASC,CAAS,CAAE,EAClD,QAAQ,IAAI,MAAM,EAGlBR,EAAW,CAAA,EACXD,EAAK,MAAK,CACZ"}